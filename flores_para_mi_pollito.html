<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Girasoles creciendo - Universo</title>
<style>
  :root{
    --bg:#04061a;
    --ground:#07111a;
    --stem:#2f7a3b;
    --leaf:#2b7a44;
    --petal1:#ffd54a; /* amarillo girasol */
    --petal2:#ffbb33;
    --center:#6b3e1f;
  }

  html,body{
    height:100%;
    margin:0;
    font-family:system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background: radial-gradient(ellipse at 20% 10%, rgba(255,255,255,0.02), transparent 6%),
                linear-gradient(180deg,var(--bg) 0%, #030614 70%);
    overflow:hidden;
  }

  /* Stars background */
  .stars {
    position:fixed;
    inset:0;
    z-index:0;
    pointer-events:none;
    background: transparent;
  }
  .star{
    position:absolute;
    width:2px;
    height:2px;
    background: white;
    border-radius:50%;
    opacity:0.9;
    transform-origin:center;
    will-change: transform, opacity;
    box-shadow: 0 0 8px rgba(255,255,255,0.6);
    animation: twinkle 3000ms linear infinite;
  }
  @keyframes twinkle{
    0% { opacity:0.2; transform: scale(0.6); filter: blur(0px); }
    50% { opacity:1; transform: scale(1.4); filter: blur(0.6px); }
    100% { opacity:0.2; transform: scale(0.7); filter: blur(0px); }
  }

  .scene{
    position:relative;
    width:100%;
    height:100vh;
    display:flex;
    align-items:flex-end;
    justify-content:center;
    overflow:visible;
    z-index:2;
  }

  .ground{
    position:absolute;
    left:0; right:0; bottom:0;
    height:20vh;
    background: linear-gradient(180deg,var(--ground), rgba(0,0,0,0.35));
    box-shadow: inset 0 8px 60px rgba(0,0,0,0.5);
    border-top-left-radius:40% 40%;
    border-top-right-radius:40% 40%;
    z-index:3;
    pointer-events:none;
  }

  /* Flower container: make room for stem below and petals above */
  .flower{
    position:absolute;
    width:var(--size,180px);
    height:calc(var(--size,180px) + 140px); /* allow room for stem and overflow */
    bottom:6vh;
    transform-origin: 50% 100%;
    display:block;
    pointer-events:auto;
    filter: drop-shadow(0 10px 18px rgba(0,0,0,0.45));
    overflow:visible;
    z-index:4;
  }

  /* center the bloom absolutely so it's exactly above the stem */
  .bloom{
    position:absolute;
    left:50%;
    transform: translateX(calc(-50% + 40%));
    width:calc(var(--size) * 1.05);
    height:auto;
    z-index:6;
    pointer-events:none;
    overflow:visible;
  }

  /* stem positioned from container bottom up so bloom aligns correctly */
  .stem{
    position:absolute;
    left:50%;
    bottom:0;
    transform: translateX(-50%) scaleY(1);
    width:10px;
    height:120px; /* default; will be scaled with --size via JS */
    transform-origin:50% 100%;
    background: linear-gradient(180deg, #3f9a57, #236232);
    border-radius:10px;
    z-index:2;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
    overflow:visible;
  }

  .leaf{
    position:absolute;
    z-index:3;
    background: linear-gradient(180deg,var(--leaf), #1f5b32);
    border-radius:50% 60% 40% 40%;
    opacity:0.98;
    overflow:visible;
  }

  /* Petals group opening animation */
  .petals{
    transform-origin:50% 70%;
    transform: scale(0);
    animation: openPetals 1200ms cubic-bezier(.2,.9,.2,1) forwards;
    overflow:visible;
  }
  @keyframes openPetals{
    0% { transform: scale(0.06) rotate(-6deg); opacity:0; }
    60% { transform: scale(1.06) rotate(3deg); opacity:1; }
    100% { transform: scale(1) rotate(0deg); opacity:1; }
  }

  .center{
    transform-origin:center;
    transform: scale(0.9);
    animation: centerPulse 1800ms ease-in-out infinite;
    animation-delay: 800ms;
  }
  @keyframes centerPulse{
    0% { transform: scale(0.95); }
    50% { transform: scale(1.07); }
    100% { transform: scale(0.95); }
  }

  .stem.grow{
    transform: scaleY(0);
    animation: growStem 1200ms cubic-bezier(.2,.9,.2,1) forwards;
  }
  @keyframes growStem{
    0% { transform: scaleY(0); opacity:0; }
    60% { transform: scaleY(1.06); opacity:1; }
    100% { transform: scaleY(1); opacity:1; }
  }

  .leaf.grow{
    transform: scale(0) translateY(8px);
    animation: growLeaf 900ms cubic-bezier(.2,.9,.2,1) forwards;
  }
  @keyframes growLeaf{
    0% { transform: scale(0.08) translateY(12px); opacity:0; }
    60% { transform: scale(1.06) translateY(-2px); opacity:1; }
    100% { transform: scale(1) translateY(0); opacity:1; }
  }

  .flower.sway{
    animation: gentleSway 6s ease-in-out infinite;
  }
  @keyframes gentleSway{
    0% { transform: translateY(0) rotate(-2deg); }
    50% { transform: translateY(-6px) rotate(3deg); }
    100% { transform: translateY(0) rotate(-2deg); }
  }

  /* responsive tweaks */
  @media (max-width:700px){
    .flower{ bottom:10vh; }
    .bloom{ width:calc(var(--size) * 1.2); }
  }

  .hint{
    position: absolute;
    top:14px;
    right:14px;
    color:rgba(255,255,255,0.85);
    font-size:13px;
    background: rgba(255,255,255,0.02);
    padding:6px 10px;
    border-radius:8px;
    backdrop-filter: blur(4px);
    z-index:8;
  }

</style>
</head>
<body>
  <div class="stars" id="stars"></div>

  <div class="scene" id="scene">
    <div class="flower" id="f1" style="left:16%; --size:240px;">
      <div class="stem grow" id="s1"></div>
      <div class="leaf grow" style="left:14%; bottom:30%; transform: rotate(-28deg); width:44%; height:28%;"></div>
      <div class="leaf grow" style="right:14%; bottom:22%; transform: rotate(18deg); width:38%; height:26%;"></div>

      <svg class="bloom" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs>
          <radialGradient id="petalGrad" cx="35%" cy="30%">
            <stop offset="0%" stop-color="rgba(255,255,255,0.9)"/>
            <stop offset="55%" stop-color="var(--petal1)"/>
            <stop offset="100%" stop-color="var(--petal2)"/>
          </radialGradient>
          <radialGradient id="centerGradA" cx="40%" cy="40%">
            <stop offset="0%" stop-color="#ffeb99"/>
            <stop offset="45%" stop-color="#ffcc33"/>
            <stop offset="100%" stop-color="#6b3e1f"/>
          </radialGradient>
        </defs>

        <g class="petals" transform="translate(100,100)">
          <g transform="rotate(0.0)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(22.5)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(45.0)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(67.5)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(90.0)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(112.5)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(135.0)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(157.5)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(180.0)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(202.5)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(225.0)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(247.5)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(270.0)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(292.5)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(315.0)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(337.5)"><ellipse rx="14" ry="44" fill="url(#petalGrad)" transform="translate(-6,-18)"/></g>
          <g transform="scale(0.72)">
          <g transform="rotate(0)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(24)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(48)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(72)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(96)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(120)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(144)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(168)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(192)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(216)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(240)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(264)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(288)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(312)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(336)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <g transform="rotate(360)"><ellipse rx="10" ry="30" fill="#ffd24d" transform="translate(-5,-8)"/></g>
          <circle class="center" r="20" cx="0" cy="0" fill="url(#centerGradA)" stroke="#2f1b12" stroke-width="1.2"/>
        </g>
      </svg>
    </div>

    <div class="flower" id="f2" style="left:52%; --size:300px;">
      <div class="stem grow" id="s2"></div>
      <div class="leaf grow" style="left:10%; bottom:36%; transform: rotate(-30deg); width:46%; height:30%;"></div>
      <div class="leaf grow" style="right:10%; bottom:26%; transform: rotate(24deg); width:38%; height:26%;"></div>

      <svg class="bloom" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs>
          <radialGradient id="petalGrad2" cx="35%" cy="30%">
            <stop offset="0%" stop-color="rgba(255,255,255,0.9)"/>
            <stop offset="55%" stop-color="#ffe066"/>
            <stop offset="100%" stop-color="#ffb300"/>
          </radialGradient>
          <radialGradient id="centerGrad2" cx="45%" cy="45%">
            <stop offset="0%" stop-color="#fff0b8"/>
            <stop offset="50%" stop-color="#ffd36b"/>
            <stop offset="100%" stop-color="#5a361b"/>
          </radialGradient>
        </defs>
        <g class="petals" transform="translate(100,100)">
          <g transform="rotate(0)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(18)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(36)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(54)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(72)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(90)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(108)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(126)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(144)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(162)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(180)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(198)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(216)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(234)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(252)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(270)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(288)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(306)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(324)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="rotate(342)"><ellipse rx="16" ry="56" fill="url(#petalGrad2)" transform="translate(-8,-26)"/></g>
          <g transform="scale(0.75)">
          <g transform="rotate(12)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(36)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(60)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(84)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(108)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(132)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(156)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(180)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(204)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(228)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(252)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(276)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(300)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(324)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <g transform="rotate(348)"><ellipse rx="11" ry="34" fill="#ffd24d" transform="translate(-6,-10)"/></g>
          <circle class="center" r="26" cx="0" cy="0" fill="url(#centerGrad2)" stroke="#2b1810" stroke-width="1.4"/>
        </g>
      </svg>
    </div>

    <div class="flower" id="f3" style="left:84%; --size:220px;">
      <div class="stem grow" id="s3"></div>
      <div class="leaf grow" style="left:14%; bottom:26%; transform: rotate(-22deg); width:38%; height:24%;"></div>

      <svg class="bloom" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs>
          <radialGradient id="petalGrad3" cx="35%" cy="30%">
            <stop offset="0%" stop-color="#fff7d8"/>
            <stop offset="55%" stop-color="#ffd14a"/>
            <stop offset="100%" stop-color="#ff9f00"/>
          </radialGradient>
          <radialGradient id="centerGrad3" cx="45%" cy="45%">
            <stop offset="0%" stop-color="#fff0b8"/>
            <stop offset="55%" stop-color="#ffd36b"/>
            <stop offset="100%" stop-color="#532f18"/>
          </radialGradient>
        </defs>

        <g class="petals" transform="translate(100,100)">
          <g transform="rotate(0)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(20)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(40)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(60)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(80)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(100)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(120)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(140)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(160)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(180)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(200)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(220)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(240)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(260)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(280)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(300)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(320)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="rotate(340)"><ellipse rx="13" ry="44" fill="url(#petalGrad3)" transform="translate(-6,-18)"/></g>
          <g transform="scale(0.72)">
          <g transform="rotate(0)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(26)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(52)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(78)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(104)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(130)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(156)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(182)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(208)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(234)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(260)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(286)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(312)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <g transform="rotate(338)"><ellipse rx="10" ry="28" fill="#ffd65a" transform="translate(-5,-8)"/></g>
          <circle class="center" r="18" cx="0" cy="0" fill="url(#centerGrad3)" stroke="#2b1710" stroke-width="1"/>
        </g>
      </svg>
    </div>

    <div class="flower" id="f4" style="left:66%; --size:120px;">
      <div class="stem grow" id="s4"></div>
      <svg class="bloom" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <g class="petals" transform="translate(100,100)">
          <g transform="rotate(0)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(30)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(60)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(90)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(120)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(150)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(180)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(210)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(240)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(270)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(300)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <g transform="rotate(330)"><ellipse rx="9" ry="26" fill="#ffd14a" transform="translate(-4,-10)"/></g>
          <circle class="center" r="10" cx="0" cy="0" fill="#d98b33" stroke="#2b1710" stroke-width="0.8"/>
        </g>
      </svg>
    </div>

    <div class="hint">Toca una flor para que tiemble 🌻</div>
    <div class="ground"></div>
  </div>

<script>
// create stars dynamically
(function createStars(){
  const starsContainer = document.getElementById('stars');
  const count = 120;
  const w = window.innerWidth;
  const h = window.innerHeight;
  for(let i=0;i<count;i++){
    const s = document.createElement('div');
    s.className = 'star';
    const size = Math.random()*2 + 0.8;
    s.style.width = s.style.height = size + 'px';
    s.style.left = Math.random()*100 + '%';
    s.style.top = Math.random()*90 + '%';
    // random animation duration & delay to make twinkling varied
    const dur = 1500 + Math.random()*3000;
    const delay = Math.random()*2000;
    s.style.animationDuration = dur + 'ms';
    s.style.animationDelay = delay + 'ms';
    s.style.opacity = 0.4 + Math.random()*0.7;
    starsContainer.appendChild(s);
  }
})();

// fix alignment: calculate stem height and bloom vertical offset based on --size
function adjustFlowerLayout(){
  document.querySelectorAll('.flower').forEach(f => {
    const sizeStr = getComputedStyle(f).getPropertyValue('--size').trim();
    const size = parseFloat(sizeStr) || 180;
    const stem = f.querySelector('.stem');
    const bloom = f.querySelector('.bloom');

    if(stem){
      // Set stem height proportional to the flower's size
      const stemHeight = Math.max(80, Math.round(size * 0.72));
      stem.style.height = stemHeight + 'px';

      if (bloom) {
        // Position the bloom so its bottom sits visually on top of the stem.
        // The SVG assets have considerable transparent space at the bottom,
        // so we calculate an offset to compensate for it.
        const bloomHeight = size * 1.05;
        const verticalOffset = bloomHeight * 0.85; // Adjust this factor to tune the connection
        const bloomBottomPosition = stemHeight - verticalOffset;
        bloom.style.bottom = bloomBottomPosition + 'px';
      }
    }
  });
}

window.addEventListener('load', () => {
  adjustFlowerLayout();

  // stagger animations like before
  const flowers = document.querySelectorAll('.flower');
  flowers.forEach((f, i) => {
    const baseDelay = 500;
    const delay = baseDelay + i * 420;
    const stem = f.querySelector('.stem');
    if (stem) stem.style.animationDelay = `${delay}ms`;
    const leaves = f.querySelectorAll('.leaf');
    leaves.forEach((l, idx) => {
      l.style.animationDelay = `${delay + 180 + idx*120}ms`;
    });
    const petals = f.querySelectorAll('.petals');
    petals.forEach(p => {
      p.style.animationDelay = `${delay + 420}ms`;
    });
    const totalGrowth = delay + 1200;
    setTimeout(() => { f.classList.add('sway'); }, totalGrowth + 350);

    f.addEventListener('click', () => {
      const p = f.querySelectorAll('.petals ellipse, .petals path');
      p.forEach((el, k) => {
        el.animate([
          { transform: 'translateY(0) rotate(0) scale(1)' },
          { transform: `translateY(${(k%2?1:-1)*6}px) rotate(${(k%2?1:-1)*8}deg) scale(1.03)` },
          { transform: 'translateY(0) rotate(0) scale(1)' }
        ], { duration: 650, easing: 'cubic-bezier(.2,.9,.2,1)'});
      });
    });
  });
});

// recalc on resize/orientationchange
window.addEventListener('resize', () => { adjustFlowerLayout(); });

</script>
</body>
</html>
